!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("vue-video-player"),require("videojs-contrib-hls"),require("video.js/dist/video-js.css"),require("vue-video-player/src/custom-theme.css"),require("recordrtc")):"function"==typeof define&&define.amd?define("VueVideoTape",["vue-video-player","videojs-contrib-hls","video.js/dist/video-js.css","vue-video-player/src/custom-theme.css","recordrtc"],t):"object"==typeof exports?exports.VueVideoTape=t(require("vue-video-player"),require("videojs-contrib-hls"),require("video.js/dist/video-js.css"),require("vue-video-player/src/custom-theme.css"),require("recordrtc")):e.VueVideoTape=t(e._,e._,e._,e._,e._)}("undefined"!=typeof self?self:this,function(e,t,r,o,n){return function(e){function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=1)}([function(e,t,r){"use strict";var o=r(5),n=(r.n(o),r(6)),i=(r.n(n),r(9)),s=r.n(i);r(7),r(8),t.a={name:"VueVideoTape",props:{playerOptions:{type:Object,required:!0},videoFileName:{type:String,required:!1,default:"录制视频文件"},screenshoted:{type:Boolean,required:!1,default:!1},startCaptured:{type:Boolean,required:!1,default:!1},stopCaptured:{type:Boolean,required:!1,default:!1}},data:function(){return{recorder:""}},created:function(){},methods:{screenshot:function(){var e=this.$refs.videoPlayer,t=e.player.tech({IWillNotUseThisInPlugins:!0}).el(),r=document.createElement("canvas");r.width=t.videoWidth,r.height=t.videoHeight,r.getContext("2d").drawImage(t,0,0,544,960,0,0,544,960);var o=r.toDataURL("image/png");this.imgaeData(o)},startCapture:function(){var e=this.$refs.videoPlayer,t=e.player.tech({IWillNotUseThisInPlugins:!0}).el(),r=t.captureStream();this.recorder=s()(r,{type:"video"}),this.recorder.startRecording()},stopCapture:function(){var e=this;this.recorder.stopRecording(function(){var t=e.recorder.getBlob();e.videoFile=e.recorder.getBlob();var r=URL.createObjectURL(t),o=e.videoFileName+".webm",n=new File([t],o,{type:"video/webm"});e.videoData({url:r,fileObject:n})})},videoData:function(e){this.$emit("videoData",e.url,e.fileObject)},imgaeData:function(e){this.$emit("imageData",e)}},watch:{screenshoted:function(e,t){e&&this.screenshot()},startCaptured:function(e,t){e&&this.startCapture()},stopCaptured:function(e,t){e&&this.startCaptured&&this.stopCapture()}},components:{videoPlayer:o.videoPlayer}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r(2);r.d(t,"VueVideoTape",function(){return o.a});var n=[o.a],i=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],n.map(function(t){e.component(t.name,t)})};"undefined"!=typeof window&&window.Vue&&i(window.Vue),t.default={install:i,VueVideoTape:o.a}},function(e,t,r){"use strict";var o=r(3);o.a.install=function(e){return e.component(o.a.name,o.a)},t.a=o.a},function(e,t,r){"use strict";var o=r(0),n=r(10),i=r(4),s=i(o.a,n.a,!1,null,null,null);t.a=s.exports},function(e,t){e.exports=function(e,t,r,o,n,i){var s,a=e=e||{},u=typeof e.default;"object"!==u&&"function"!==u||(s=e,a=e.default);var d="function"==typeof a?a.options:a;t&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0),r&&(d.functional=!0),n&&(d._scopeId=n);var c;if(i?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},d._ssrRegister=c):o&&(c=o),c){var p=d.functional,l=p?d.render:d.beforeCreate;p?(d._injectStyles=c,d.render=function(e,t){return c.call(t),l(e,t)}):d.beforeCreate=l?[].concat(l,c):[c]}return{esModule:s,exports:a,options:d}}},function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=n},function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("videoPlayer",{ref:"videoPlayer",staticClass:"video-player-box",attrs:{options:e.playerOptions,playsinline:!0}})],1)},n=[],i={render:o,staticRenderFns:n};t.a=i}])});